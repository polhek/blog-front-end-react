{"version":3,"sources":["components/Navigation.js","components/Comment.js","components/NewComment.js","components/Comments.js","components/Post.js","components/Posts.js","actions/userActions.js","components/AdminPost.js","components/AdminPanel.js","components/Admin.js","components/NewPost.js","App.js","reducers/userReducer.js","index.js"],"names":["Navigation","className","to","Comment","text","author","id","fetchAllComment","loggedIn","useSelector","state","onClick","token","localStorage","getItem","axios","delete","headers","Authorization","then","res","console","log","catch","err","NewComment","postID","useState","username","setUsername","comment","setComment","onSubmit","event","preventDefault","post","response","error","htmlFor","value","onChange","e","target","type","placeholder","required","Comments","comments","showComments","cardStyle","visibility","maxHeight","opacity","transition","style","map","_id","Post","setShowComments","dateToFormat","Date","createdAt","containerStyle","backgroundColor","background","title","length","format","Posts","posts","setPosts","dispatch","useDispatch","useEffect","autoLogin","get","data","user","payload","status","AdminPost","fetchAdminComments","currentUser","changeBlogStatus","put","userID","params","r","AdminPanel","adminPosts","setAdminPosts","aPost","Admin","password","setPassword","userInfo","setItem","NewPost","setTitle","setText","history","useHistory","newPost","push","App","path","exact","defaultState","userReducer","action","clear","defaults","baseURL","store","createStore","compose","applyMiddleware","thunk","window","devToolsExtension","f","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f75e8fed.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Navigation = () => {\n  return (\n    <header className=\"bg-gray-700 flex justify-between h-14 p-10 items-center text-white \">\n      <h1 className=\"font-bold text-2xl\">Blog-frontend</h1>\n      <Link to=\"/admin\">\n        <button className=\"bg-gray-500 hover:bg-gray-900 text-white font-bold py-2 px-4 shadow rounded-full\">\n          Admin page\n        </button>\n      </Link>\n    </header>\n  );\n};\n\nexport default Navigation;\n","import axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { FaTrash } from 'react-icons/fa';\n\nconst Comment = ({ text, author, id, fetchAllComment }) => {\n  const loggedIn = useSelector((state) => state.loggedIn);\n\n  const deleteComment = () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .delete(`/api/comments/${id}/delete`, {\n          headers: { Authorization: token },\n        })\n        .then((res) => {\n          console.log(res);\n          fetchAllComment();\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <div className=\"rounded bg-gray-100 p-3 mt-2 flex flex-col justify-center items-stretch\">\n      <div className=\"flex items-center justify-between\">\n        <p>{text}</p>\n        <div className=\"flex justify-end items-center\">\n          <span className=\"font-bold mr-2\">By:</span> {author}\n        </div>\n      </div>\n      {loggedIn && (\n        <div className=\"mt-2 flex justify-end\">\n          <button\n            onClick={deleteComment}\n            className=\"flex items-center bg-red-600 hover:bg-red-900 p-1 rounded-xl text-white\"\n          >\n            <FaTrash className=\"mr-1\" /> Delete comment!\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Comment;\n","import { useState } from 'react';\nimport axios from 'axios';\n\nconst NewComment = ({ postID, fetchAllComment }) => {\n  const [username, setUsername] = useState('');\n  const [comment, setComment] = useState('');\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    axios\n      .post('/api/comments/create', {\n        text: comment,\n        author: username,\n        postID: postID,\n      })\n      .then(\n        (response) => {\n          setComment('');\n          setUsername('');\n          fetchAllComment();\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  };\n\n  return (\n    <div className=\"mt-2 p-3 flex flex-row w-full\">\n      <form onSubmit={submitHandler} className=\"w-full\">\n        <h3 className=\"font-bold text-lg\">Add New Comment:</h3>\n        <div className=\"flex flex-row m-2 items-center w-100\">\n          <label htmlFor=\"username\" className=\"pr-5\">\n            Username:\n          </label>\n          <input\n            className=\"bg-gray-700 rounded-xl p-1 w-full text-white\"\n            value={username}\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n            type=\"text\"\n            placeholder=\"Enter your username!\"\n            required\n          />\n        </div>\n        <div className=\"flex flex-row m-2 items-center w-100\">\n          <label htmlFor=\"comment \" className=\"pr-5\">\n            Comment:\n          </label>\n          <input\n            className=\"bg-gray-700 rounded-xl p-1 w-full text-white\"\n            value={comment}\n            onChange={(e) => {\n              setComment(e.target.value);\n            }}\n            placeholder=\"Your comment goes here!\"\n            type=\"text\"\n            required\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"flex flex-row items-center bg-gray-500 hover:bg-gray-800 rounded-full p-2 text-white  \"\n        >\n          Send comment!\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default NewComment;\n","import Comment from './Comment';\nimport NewComment from './NewComment';\n\nconst Comments = ({ postID, comments, showComments, fetchAllComment }) => {\n  const cardStyle = {\n    visibility: !showComments ? 'hidden' : 'visible',\n    maxHeight: !showComments ? '0' : '100%',\n    opacity: !showComments ? 0 : 1,\n    transition: 'all 0.5s ease-in-out',\n  };\n\n  return (\n    <div style={cardStyle} className=\"bg-gray-200 p-5  rounded shadow \">\n      <h3 className=\"font-bold\">Comments:</h3>\n      {comments &&\n        comments.map((comment) => {\n          return (\n            <Comment\n              key={comment._id}\n              text={comment.text}\n              author={comment.author}\n              id={comment._id}\n              fetchAllComment={fetchAllComment}\n            />\n          );\n        })}\n      <NewComment postID={postID} fetchAllComment={fetchAllComment} />\n    </div>\n  );\n};\n\nexport default Comments;\n","import Comments from './Comments';\nimport { useState } from 'react';\nimport { FaComments } from 'react-icons/fa';\nimport Moment from 'react-moment';\n\nconst Post = ({ post, fetchAllComment }) => {\n  const [showComments, setShowComments] = useState(false);\n  const dateToFormat = new Date(post.createdAt);\n  const showClickHandler = () => {\n    setShowComments(!showComments);\n  };\n\n  const containerStyle = {\n    backgroundColor: !showComments && 'white',\n    background: showComments ? 'none' : 'white',\n  };\n  return (\n    <div\n      style={containerStyle}\n      className=\"w-100 w-3/5 flex flex-col mt-10 rounded\"\n    >\n      <div className=\"bg-white rounded-xl shadow \">\n        <div className=\"flex justify-between p-5\">\n          <h2>Title: {post.title}</h2>\n          <h2>Author: {post.author.username}</h2>\n        </div>\n\n        <p className=\"p-5\">{post.text}</p>\n        <div className=\"p-5 flex justify-between\">\n          <button\n            onClick={showClickHandler}\n            className=\"flex flex-row items-center bg-gray-500 hover:bg-gray-800 rounded-full p-2 text-white  \"\n          >\n            <FaComments className=\"mr-2\" /> {post.comments.length}\n          </button>\n          <h3>\n            Created at:\n            <Moment className=\"px-1\" format=\"YYYY-MM-DD HH:mm\">\n              {dateToFormat}\n            </Moment>\n          </h3>\n        </div>\n      </div>\n\n      <Comments\n        comments={post.comments}\n        postID={post._id}\n        showComments={showComments}\n        fetchAllComment={fetchAllComment}\n      />\n    </div>\n  );\n};\n\nexport default Post;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Post from './Post';\nimport { useDispatch } from 'react-redux';\nimport { setUserUser } from '../actions/userActions';\n\nconst Posts = () => {\n  const [posts, setPosts] = useState([]);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    fetchAllComment();\n    autoLogin();\n  }, []);\n\n  const fetchAllComment = () => {\n    axios\n      .get('/api/posts')\n      .then((response) => {\n        setPosts(response.data.posts);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const autoLogin = () => {\n    const token = localStorage.getItem('token');\n\n    axios\n      .get('/api/users/profile', {\n        headers: { Authorization: token },\n      })\n      .then((res) => {\n        const user = res.data;\n        dispatch(setUserUser(user));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <div className=\"flex justify-center flex-col items-center mt-10\">\n      {posts &&\n        posts.map((post) => {\n          if (post.status) {\n            return (\n              <Post\n                key={post._id}\n                post={post}\n                fetchAllComment={fetchAllComment}\n              />\n            );\n          }\n        })}\n    </div>\n  );\n};\n\nexport default Posts;\n","import axios from 'axios';\n\nconst setUser = (payload) => ({ type: 'SET_USER', payload });\n\nexport const logUserOut = () => ({ type: 'LOG_OUT' });\n\nexport const fetchUser = (userInfo) => (dispatch) => {\n  axios\n    .post('https://fierce-everglades-07063.herokuapp.com/api/users/login', {\n      username: userInfo.username,\n      password: userInfo.password,\n    })\n    .then((data) => {\n      console.log(data.data);\n      localStorage.setItem('token', data.data.token);\n      dispatch(setUser(data.data.user));\n    });\n};\n\nexport const setUserUser = (payload) => ({ type: 'SET_USER', payload });\n","import axios from 'axios';\nimport { useSelector } from 'react-redux';\n\nconst AdminPost = ({ post, fetchAdminComments }) => {\n  const currentUser = useSelector((state) => state.user);\n\n  const changeBlogStatus = () => {\n    console.log('lounched');\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .put(\n          `/api/posts/${post._id}/update`,\n          {\n            title: post.title,\n            text: post.text,\n            userID: currentUser._id,\n            status: !post.status,\n          },\n          {\n            headers: { Authorization: token },\n            params: { id: post._id },\n          }\n        )\n        .then((r) => {\n          console.log(r.status);\n          fetchAdminComments();\n        })\n        .catch((e) => console.log(e));\n    }\n  };\n\n  const deleteBlogPost = () => {\n    console.log('delete lounched!!');\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .delete(`/api/posts/${post._id}/delete`, {\n          headers: { Authorization: token },\n          params: { id: post._id },\n        })\n        .then((res) => {\n          console.log(res.status);\n          fetchAdminComments();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  return (\n    <div className=\"bg-white flex rounded-xl  mt-10 p-5 shadow-xl border\">\n      <li className=\"flex justify-around items-center\">\n        <span className=\"font-bold\">Blog title:</span> {post.title}\n        <span className=\"mx-3 font-bold\">Published:</span>\n        {!post.status ? (\n          <span className=\"text-red-600 bg-red-100 rounded\">No</span>\n        ) : (\n          <span className=\"text-green-700 bg-green-100 rounded\">Yes</span>\n        )}\n        {!post.status ? (\n          <>\n            <p className=\"font-bold mx-4\">You want to publish this blog?</p>\n            <button\n              onClick={changeBlogStatus}\n              className=\"bg-blue-600 p-1 rounded hover:bg-blue-800 hover:shadow\"\n            >\n              <span className=\"text-white\">Publish blog!</span>\n            </button>\n          </>\n        ) : (\n          <>\n            <p className=\"font-bold mx-4\">You want to unpublish this blog?</p>\n            <button\n              onClick={changeBlogStatus}\n              className=\"bg-red-600 p-1 rounded hover:bg-red-800 hover:shadow\"\n            >\n              <span className=\"text-white\">Unpublish blog!</span>\n            </button>\n          </>\n        )}\n        <p className=\"font-bold mx-4\">You want to delete this blog?</p>\n        <button\n          onClick={deleteBlogPost}\n          className=\"bg-blue-600 p-1 rounded hover:bg-blue-800 hover:shadow\"\n        >\n          <span className=\"text-white\">Delete blog!</span>\n        </button>\n      </li>\n    </div>\n  );\n};\n\nexport default AdminPost;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport AdminPost from './AdminPost';\nimport { Link } from 'react-router-dom';\n\nconst AdminPanel = () => {\n  const [adminPosts, setAdminPosts] = useState([]);\n\n  useEffect(() => {\n    fetchAdminComments();\n  }, []);\n\n  const fetchAdminComments = () => {\n    axios\n      .get('/api/posts')\n      .then((response) => {\n        setAdminPosts(response.data.posts);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <div className=\"flex justify-center w-100 flex-col items-center\">\n      <ol className=\"list-decimal w-full flex flex-col items-center justify-center\">\n        {adminPosts.map((aPost) => {\n          return (\n            <AdminPost\n              key={aPost._id}\n              post={aPost}\n              fetchAdminComments={fetchAdminComments}\n            />\n          );\n        })}\n      </ol>\n      <div className=\"mt-40\">\n        <Link to=\"/new-post\">\n          <button className=\"bg-gray-500 hover:bg-gray-900 text-white font-bold py-2 px-4 shadow rounded-full\">\n            New Blog Post\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPanel;\n","import { useState } from 'react';\nimport AdminPanel from './AdminPanel';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchUser } from '../actions/userActions';\n\nconst Admin = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n  const loggedIn = useSelector((state) => state.loggedIn);\n\n  const adminSubmitHandler = (e) => {\n    e.preventDefault();\n    const user = { username: username, password: password };\n    dispatch(fetchUser(user));\n  };\n\n  if (!loggedIn) {\n    return (\n      <div className=\"  flex justify-center\">\n        <div className=\"bg-white rounded-xl h-full  mt-52 p-5 shadow-xl border w-2/5\">\n          <form onSubmit={adminSubmitHandler}>\n            <h3 className=\"font-bold text-lg\">\n              Enter Admin Username and Password:\n            </h3>\n            <div>\n              <label htmlFor=\"username\">Admin username:</label>\n              <input\n                className=\"bg-gray-500 rounded p-1 text-white m-2 w-2/3\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => {\n                  setUsername(e.target.value);\n                }}\n                required\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\">Admin password:</label>\n              <input\n                className=\"bg-gray-500 rounded p-1 text-white m-2 w-2/3\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                }}\n                required\n              />\n            </div>\n            <div className=\"flex w-100 justify-center\">\n              <button\n                type=\"submit\"\n                className=\"flex flex-row items-center bg-gray-500 hover:bg-gray-800 rounded-full p-2 text-white  \"\n              >\n                Admin login!\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  if (loggedIn) {\n    return <AdminPanel />;\n  }\n};\n\nexport default Admin;\n","import { useState } from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nconst NewPost = () => {\n  const [title, setTitle] = useState('');\n  const [text, setText] = useState('');\n  const currentUser = useSelector((state) => state.user);\n  const history = useHistory();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    newPost();\n  };\n\n  const newPost = () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .post(\n          '/api/posts/create',\n          {\n            title: title,\n            text: text,\n            userID: currentUser._id,\n          },\n          {\n            headers: { Authorization: token },\n          }\n        )\n        .then((res) => {\n          console.log(res.status);\n          setText('');\n          setTitle('');\n          history.push('');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n  return (\n    <div className=\"flex justify-center\">\n      <div className=\"mt-10 w-2/3\">\n        <form onSubmit={submitHandler}>\n          <div className=\"bg-white p-10 rounded-xl shadow\">\n            <h3 className=\"font-bold text-3xl\">Add new blog-post:</h3>\n            <div className=\"flex flex-col\">\n              <label htmlFor=\"title\" className=\"font-bold\">\n                Title of blogpost:\n              </label>\n              <input\n                type=\"text\"\n                value={title}\n                onChange={(e) => {\n                  setTitle(e.target.value);\n                }}\n                className=\"bg-gray-200 py-2 px-1 rounded\"\n                placeholder=\"Enter title of blogpost\"\n                required\n              />\n            </div>\n            <div className=\"flex flex-col\">\n              <label htmlFor=\"text\" className=\"font-bold\">\n                Blog text:\n              </label>\n              <textarea\n                type=\"text\"\n                value={text}\n                onChange={(e) => {\n                  setText(e.target.value);\n                }}\n                className=\"bg-gray-200 h-96 rounded p-1\"\n                required\n              ></textarea>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"mt-3 bg-blue-600 p-1 rounded hover:bg-blue-800 hover:shadow\"\n            >\n              <span className=\"text-white\">Add blogpost!</span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default NewPost;\n","import './App.css';\nimport Navigation from './components/Navigation';\nimport Posts from './components/Posts';\nimport Admin from './components/Admin';\nimport { Switch, Route } from 'react-router-dom';\nimport NewPost from './components/NewPost';\nimport { HashRouter as Router } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"bg-gray-300\">\n        <Navigation />\n        <Switch>\n          <Route path=\"/admin\">\n            <Admin />\n          </Route>\n          <Route path=\"/new-post\">\n            <NewPost />\n          </Route>\n          <Route path=\"\" exact>\n            <Posts />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const defaultState = {\n  loggedIn: false,\n  user: {},\n};\n\nconst userReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        ...state,\n        loggedIn: true,\n        user: { ...action.payload },\n      };\n    case 'LOG_OUT':\n      localStorage.clear();\n      return {\n        ...state,\n        loggedIn: false,\n        user: {},\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport axios from 'axios';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore, compose } from 'redux';\nimport userReducer from './reducers/userReducer';\nimport thunk from 'redux-thunk';\n\naxios.defaults.baseURL = 'https://fierce-everglades-07063.herokuapp.com/';\n\nconst store = createStore(\n  userReducer,\n  compose(\n    applyMiddleware(thunk),\n    window.devToolsExtension ? window.devToolsExtension() : (f) => f\n  )\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}